## Final Datasets

This is a subdirectory to hold the final outputs of the project. It is generated by the functions in [make_final_datasets.py](link). There are two types of output; 

1. The first is the individual payments datsets; [ccg_final.zip, trust_final.zip, and nhsengland_final.zip]. They contain all of the raw individual payments as rows, with reconcilied supplier data (in the form of either verif_name, or a charity or company name and number, as described below). A 'codebook' of the columns is as follows;

* `date`: The date at which the payment was made -- Can variably be either settlement, delivery, or purchase date
* `expensetype`: Type of procurement
* `expensearea`: Broad and high level description of what is being procured
* `supplier`: The (raw) name of the supplier from which services are being procured, as it appears in the raw data (other than being upper cased).
* `transactionnumber`: The transaction number individual to that specific file
* `amount`: The amount of the specific payment made (filtered to be >Â£25k where an organisation doesn't threshold internally)
* `file`: The name of the file from which the raw data comes from
* `negative`: A flag for whether the payment is negative or not
* `dept`: The NHS organisation from which the data comes
* `query_string_n`: A normalized version of the supplier string
* `verif_match`: An accepted match from the automatic recogniliation process
* `match_type`: The type of the match
* `CompanyName`: The name of the company -- either as an accepted match from the automated reconciliation process, or as a manually and thoroughly determined data audit.
* `CompanyNumber`: As provided on the Companies House Register
* `CompanyCategory`: a link of the company number to the CompanyCategory field within the Companies House register.
* `CharityName`: a manually determined and verified Charity, based on the initial pass of the reconciliation algorithm.
* `CharityRegNo`: An associated CharityRegNo from the Charity Commission data.
* `CharitySubNo`: An associated CharitySubNo from the Charity Commission data.
* `CharityNameNo`: An associated CharityNameNo from the Charity Commission data (but not from the audit)
* `audit_type`: Whether the match; be it 'CompanyName' or 'ChartityName' was determined either solely by the automatic reconciliation process ("1") or the audit process ("2: ")
* `CHnotes`: Notes on the charity (CharityName, not verif_match) as determined by the audit process
* `CCnotes`: Notes on the company (CompanyName, not verif_match) as determined by the audit process
* `isCIC`: Whether the supplier is a Community Interest Company

2. The second is
